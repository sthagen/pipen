
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.2.2">
    
    
      
        <title>Defining a process - pipen</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1118c9be.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ba0d045b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/all.css">
    
      <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css">
    
      <link rel="stylesheet" href="../css/mkapi-common.css">
    
      <link rel="stylesheet" href="../style.css">
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#definingcreating-processes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="pipen" class="md-header__button md-logo" aria-label="pipen" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            pipen
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Defining a process
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/pwwang/pipen/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pwwang/pipen
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="pipen" class="md-nav__button md-logo" aria-label="pipen" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    pipen
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/pwwang/pipen/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pwwang/pipen
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../basics/" class="md-nav__link">
        Basics
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Defining a process
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Defining a process
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#definingcreating-processes" class="md-nav__link">
    Defining/Creating processes
  </a>
  
    <nav class="md-nav" aria-label="Defining/Creating processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subclassing-pipenproc" class="md-nav__link">
    Subclassing pipen.Proc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-class-method-procfrom_proc" class="md-nav__link">
    Using class method Proc.from_proc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-about-instantiation-of-proc-directly" class="md-nav__link">
    How about instantiation of Proc directly?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-about-instantiation-of-a-proc-subclass" class="md-nav__link">
    How about instantiation of a Proc subclass?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-about-copydeep-copy-of-a-proc-subclass" class="md-nav__link">
    How about copy/deep-copy of a Proc subclass?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-configurations-and-proc-class-variables" class="md-nav__link">
    process configurations and Proc class variables
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../running/" class="md-nav__link">
        Defining and running a pipeline
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../templating/" class="md-nav__link">
        Templating
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../channels/" class="md-nav__link">
        Channels
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../input-output/" class="md-nav__link">
        Input and output
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../script/" class="md-nav__link">
        Script
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../caching/" class="md-nav__link">
        Caching
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../error/" class="md-nav__link">
        Error handling
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../configurations/" class="md-nav__link">
        Configurations
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../plugin/" class="md-nav__link">
        Plugins
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../scheduler/" class="md-nav__link">
        Scheduler
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        Command line iterface
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../examples/" class="md-nav__link">
        Examples
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../CHANGELOG/" class="md-nav__link">
        Change log
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      <label class="md-nav__link" for="__nav_17">
        API
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          API
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17_1" type="checkbox" id="__nav_17_1" >
      
      <label class="md-nav__link" for="__nav_17_1">
        pipen
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="pipen" data-md-level="2">
        <label class="md-nav__title" for="__nav_17_1">
          <span class="md-nav__icon md-icon"></span>
          pipen
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen/" class="md-nav__link">
        pipen
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.proc/" class="md-nav__link">
        pipen.proc
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.pluginmgr/" class="md-nav__link">
        pipen.pluginmgr
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.pipen/" class="md-nav__link">
        pipen.pipen
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.defaults/" class="md-nav__link">
        pipen.defaults
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.template/" class="md-nav__link">
        pipen.template
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.exceptions/" class="md-nav__link">
        pipen.exceptions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.version/" class="md-nav__link">
        pipen.version
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.progressbar/" class="md-nav__link">
        pipen.progressbar
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.utils/" class="md-nav__link">
        pipen.utils
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17_2" type="checkbox" id="__nav_17_2" >
      
      <label class="md-nav__link" for="__nav_17_2">
        pipen.cli
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="pipen.cli" data-md-level="2">
        <label class="md-nav__title" for="__nav_17_2">
          <span class="md-nav__icon md-icon"></span>
          pipen.cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.cli/" class="md-nav__link">
        pipen.cli
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.cli.help/" class="md-nav__link">
        pipen.cli.help
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.cli.plugins/" class="md-nav__link">
        pipen.cli.plugins
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.cli.profile/" class="md-nav__link">
        pipen.cli.profile
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.scheduler/" class="md-nav__link">
        pipen.scheduler
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.channel/" class="md-nav__link">
        pipen.channel
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../api/pipen.job/" class="md-nav__link">
        pipen.job
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#definingcreating-processes" class="md-nav__link">
    Defining/Creating processes
  </a>
  
    <nav class="md-nav" aria-label="Defining/Creating processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#subclassing-pipenproc" class="md-nav__link">
    Subclassing pipen.Proc
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-class-method-procfrom_proc" class="md-nav__link">
    Using class method Proc.from_proc()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-about-instantiation-of-proc-directly" class="md-nav__link">
    How about instantiation of Proc directly?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-about-instantiation-of-a-proc-subclass" class="md-nav__link">
    How about instantiation of a Proc subclass?
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-about-copydeep-copy-of-a-proc-subclass" class="md-nav__link">
    How about copy/deep-copy of a Proc subclass?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-configurations-and-proc-class-variables" class="md-nav__link">
    process configurations and Proc class variables
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/pwwang/pipen/edit/master/docs/defining-proc.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>Defining a process</h1>
                
                <p>A pipeline consists of many processes, which could own multiple jobs that run in parallel.</p>
<h3 id="definingcreating-processes">Defining/Creating processes</h3>
<p><code>pipen</code> has two (preferred) ways to define processes:</p>
<h4 id="subclassing-pipenproc">Subclassing <code>pipen.Proc</code></h4>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pipen</span> <span class="kn">import</span> <span class="n">Proc</span>

<span class="k">class</span> <span class="nc">MyProcess</span><span class="p">(</span><span class="n">Proc</span><span class="p">):</span>
    <span class="o">...</span> <span class="c1"># process configurations</span>
</code></pre></div>
<p>The configurations are specified as class variables of the class.</p>
<h4 id="using-class-method-procfrom_proc">Using class method <code>Proc.from_proc()</code></h4>
<p>If you want to reuse a defined process, you can either subclass it:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">MyOtherProcess</span><span class="p">(</span><span class="n">MyProcess</span><span class="p">):</span>
    <span class="o">...</span> <span class="c1"># configurations inherited from MyProcess</span>
</code></pre></div>
<p>Or use <code>Proc.from_proc()</code>:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># You can also pass the configurations you want to override</span>
<span class="n">MyOtherProcess</span> <span class="o">=</span> <span class="n">Proc</span><span class="o">.</span><span class="n">from_proc</span><span class="p">(</span><span class="n">MyProcess</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div>
<p>Note that <code>Proc.from_proc()</code> cannot override all configurations/class variables, because we assume that there are some shared configurations if you want to "copy" from another process.</p>
<p>These shared configurations are:</p>
<ol>
<li>Template engine and its options (<code>template</code> and <code>template_opts</code>)</li>
<li>Script template (<code>script</code>)</li>
<li>Input keys (<code>input</code>)</li>
<li>Language/Interpreter of the script (<code>lang</code>)</li>
<li>Output keys (<code>output</code>)</li>
</ol>
<p>All other configurations can be passed to <code>Proc.from_proc()</code> to override the old ones.</p>
<p>For all configurations/class variables for a process, see next section.</p>
<p>You don't need to specify the new name of the new process, the variable name on the left-handle side will be used if <code>name</code> argument is not provided to <code>Proc.from_proc()</code>. For example:</p>
<div class="highlight"><pre><span></span><code><span class="n">NewProc</span> <span class="o">=</span> <span class="n">Proc</span><span class="o">.</span><span class="n">from_proc</span><span class="p">(</span><span class="n">OldProc</span><span class="p">)</span>
<span class="c1"># NewProc.name == &quot;NewProc&quot;</span>
</code></pre></div>
<p>But you are able to assign a different name to a new process if you want. For example:</p>
<div class="highlight"><pre><span></span><code><span class="n">NewProc</span> <span class="o">=</span> <span class="n">Proc</span><span class="o">.</span><span class="n">from_proc</span><span class="p">(</span><span class="n">OldProc</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;NewProc2&quot;</span><span class="p">)</span>
<span class="c1"># NewProc.name = &quot;NewProc2&quot;</span>
</code></pre></div>
<h4 id="how-about-instantiation-of-proc-directly">How about instantiation of <code>Proc</code> directly?</h4>
<p>You are not allowed to do that. <code>Proc</code> is an abstract class, which is designed to be subclassed.</p>
<h4 id="how-about-instantiation-of-a-proc-subclass">How about instantiation of a <code>Proc</code> subclass?</h4>
<p>Nope, in <code>pipen</code>, a process is a <code>Proc</code> subclass itself. The instances of the subcleasses are used internally, and they are singletons. In most cases, you don't need to use the instances, unless you want to access the computed properties of the instances, including:</p>
<ul>
<li><code>pipeline</code>: The pipeline, which is a <code>Pipen</code> object</li>
<li><code>pbar</code>: The progress bar for the process, indicating the job status of this process</li>
<li><code>jobs</code>: The jobs of this process</li>
<li><code>xqute</code>: The <code>Xqute</code> object to manage the job running.</li>
<li><code>template</code>: The template engine (a <code>pipen.template.Template</code> object)</li>
<li><code>template_opts</code>: The template options (overwritten from config by the <code>template_opts</code> class variable)</li>
<li><code>input</code>: The sanitized input keys and types</li>
<li><code>output</code>: The compiled output template, ready for the jobs to render with their own data</li>
<li><code>scheduler</code>: The scheduler object (inferred from the name or sheduler object from the <code>scheduler</code> class variable)</li>
<li><code>script</code>: The compiled script template, ready for the jobs to render with their own data</li>
</ul>
<h4 id="how-about-copydeep-copy-of-a-proc-subclass">How about copy/deep-copy of a <code>Proc</code> subclass?</h4>
<p>Nope. Copy or deep-copy of a <code>Proc</code> subclass won't trigger <code>__init_subclass__()</code>, where consolidate the process name from the class name if not specified and connect the required processes with the current one. Copy or deep-copy keeps all properties, but disconnect the relationships between current process and the dependency processes, even with a separate assignment, such as <code>MyProcess.requires = ...</code>.</p>
<h3 id="process-configurations-and-proc-class-variables">process configurations and <code>Proc</code> class variables</h3>
<p>The configurations of a process are specified as class variables of subclasses of <code>Proc</code>.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Meaning</th>
<th>Can be overwritten by <code>Proc.from_proc()</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>The name of the process. Will use the class name by default.</td>
<td>Yes</td>
</tr>
<tr>
<td><code>desc</code></td>
<td>The description of the process. Will use the summary from the docstring by default.</td>
<td>Yes</td>
</tr>
<tr>
<td><code>envs</code></td>
<td>The env variables that are job-independent, useful for common options across jobs.</td>
<td>Yes, and old ones will be inherited</td>
</tr>
<tr>
<td><code>cache</code></td>
<td>Should we detect whether the jobs are cached?</td>
<td>Yes</td>
</tr>
<tr>
<td><code>dirsig</code></td>
<td>When checking the signature for caching, whether should we walk through the content of the directory? This is sometimes time-consuming if the directory is big.</td>
<td>Yes</td>
</tr>
<tr>
<td><code>export</code></td>
<td>When True, the results will be exported to <code>&lt;pipeline.outdir&gt;</code> Defaults to None, meaning only end processes will export. You can set it to True/False to enable or disable exporting for processes</td>
<td>Yes</td>
</tr>
<tr>
<td><code>error_strategy</code></td>
<td>How to deal with the errors: retry, ignore, halt</td>
<td>Yes</td>
</tr>
<tr>
<td><code>num_retries</code></td>
<td>How many times to retry to jobs once error occurs</td>
<td>Yes</td>
</tr>
<tr>
<td><code>template</code></td>
<td>Define the template engine to use.</td>
<td>No</td>
</tr>
<tr>
<td><code>template_opts</code></td>
<td>Options to initialize the template engine.</td>
<td>No</td>
</tr>
<tr>
<td><code>forks</code></td>
<td>How many jobs to run simultaneously?</td>
<td>Yes</td>
</tr>
<tr>
<td><code>input</code></td>
<td>The keys and types for the input channel</td>
<td>No</td>
</tr>
<tr>
<td><code>input_data</code></td>
<td>The input data (will be computed for dependent processes)</td>
<td>Yes</td>
</tr>
<tr>
<td><code>lang</code></td>
<td>The language for the script to run.</td>
<td>No</td>
</tr>
<tr>
<td><code>order</code></td>
<td>The execution order for the same dependency-level processes</td>
<td>Yes</td>
</tr>
<tr>
<td><code>output</code></td>
<td>The output keys for the output channel</td>
<td>No</td>
</tr>
<tr>
<td><code>plugin_opts</code></td>
<td>Options for process-level plugins</td>
<td>Yes</td>
</tr>
<tr>
<td><code>requires</code></td>
<td>The dependency processes</td>
<td>Yes</td>
</tr>
<tr>
<td><code>scheduler</code></td>
<td>The scheduler to run the jobs</td>
<td>Yes</td>
</tr>
<tr>
<td><code>scheduler_opts</code></td>
<td>The options for the scheduler</td>
<td>Yes</td>
</tr>
<tr>
<td><code>script</code></td>
<td>The script template for the process</td>
<td>No</td>
</tr>
<tr>
<td><code>submission_batch</code></td>
<td>How many jobs to be submited simultaneously</td>
<td>Yes</td>
</tr>
</tbody>
</table>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../basics/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Basics" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Basics
            </div>
          </div>
        </a>
      
      
        
        <a href="../running/" class="md-footer__link md-footer__link--next" aria-label="Next: Defining and running a pipeline" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Defining and running a pipeline
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.709b4209.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.2b46852b.min.js"></script>
      
        <script src="../js/mkapi.js"></script>
      
    
  </body>
</html>